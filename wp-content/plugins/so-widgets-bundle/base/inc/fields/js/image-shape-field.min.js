!function(i){i(document).on("sowsetupformfield",".siteorigin-widget-field-type-image_shape",(function(e){if(!i(this).data("initialized")){var t=i(this),a=t.find(".siteorigin-widget-shape-search"),s=t.find(".siteorigin-widget-shapes"),n=t.find(".siteorigin-widget-input"),d=t.find(".siteorigin-widget-shape-current"),g=function(i){i.addClass("selected"),d.find(".siteorigin-widget-shape").html(i.find(".siteorigin-widget-shape-image").clone()),d.find(".siteorigin-widget-shape-image").data("shape",i.data("shape")),t.trigger("shape_change",{shape:i.data("shape"),field:t})};d.on("click",(function(){s.toggleClass("siteorigin-widget-shapes-open")})),s.find(".siteorigin-widget-shape").on("click",(function(){var e=i(this);t.find(".siteorigin-widget-shape").removeClass("selected"),g(e),n.val(e.data("shape")),d.trigger("click")})),a.on("keyup change",(function(){var e=a.val().toLowerCase();""===e?s.find(".siteorigin-widget-shape").show():s.find(".siteorigin-widget-shape").each((function(){var t=i(this);-1===t.data("shape").indexOf(e)?t.hide():t.show()}))})),g(s.find('.siteorigin-widget-shape[data-shape="'+(""!==n.val()?n.val():"circle")+'"]')),t.data("initialized",!0)}}))}(jQuery);